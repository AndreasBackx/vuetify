@import "../../styles/styles.sass"
// @import "./_mixins.sass"

// .v-feature-discovery.theme--light
//   +feature-discovery-theme($material-light)
// .v-feature-discovery.theme--dark
//   +feature-discovery-theme($material-dark)

// Block
.v-feature-discovery
  position: fixed
  z-index: 10

// Element
.v-feature-discovery
  &__backdrop
    width: 100%
    height: 100%
    opacity: 0.96
    border-radius: 100%
    display: flex
    justify-content: center
    align-items: center
    transform: scale(0)
    transition: $primary-transition
    +elevation(4)

  &__highlight
    position: absolute
    height: 112px
    width: 112px
    top: calc(50% - (140px / 2))
    left: calc(50% - (140px / 2))
    background: white
    border-radius: 100%
    display: flex
    justify-content: center
    align-items: center
    transform: scale(0)
    transition: $primary-transition

  &:not(&--no-ripple)
    .v-feature-discovery__highlight:before
      content: ''
      position: absolute
      height: 100%
      width: 100%
      background-color: inherit
      border-radius: inherit
      transition: $primary-transition
      animation: pulse-animation 1.4s cubic-bezier(0.24, 0, 0.38, 1) infinite
      pointer-events: none

  &__content
    width: 60%
    height: 60%
    display: flex
    flex-direction: column
    justify-content: space-around
    align-items: center

// Modifier
.v-feature-discovery
  &--active
    .v-feature-discovery__backdrop, .v-feature-discovery__highlight
      transform: scale(1)

  &--movable
    transition: $primary-transition

  &--active:not(&--no-ripple)
    .v-feature-discovery__highlight
      animation: highlight-pulse-animation 1.4s cubic-bezier(0.24, 0, 0.38, 1) infinite

  &:not(&--active)
    pointer-events: none

  &--flat &__backdrop
    +elevation(0)

  &--lr-shifted &__content
      width: 75%

// Animations
@keyframes highlight-pulse-animation
  from
    transform: scale(1)

  75%
    transform: scale(1.05)

  to
    transform: scale(1)

@keyframes pulse-animation
  from
    opacity: 1
    transform: scale(1)

  to
    opacity: 0
    transform: scale(1.5)
