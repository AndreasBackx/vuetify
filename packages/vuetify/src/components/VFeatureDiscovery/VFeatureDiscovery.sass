@import "../../styles/styles.sass"
@import "./_mixins.sass"

// .v-feature-discovery.theme--light
//   +feature-discovery-theme($material-light)
// .v-feature-discovery.theme--dark
//   +feature-discovery-theme($material-dark)

 // Block
.v-feature-discovery
  position: fixed
  z-index: 10

  &--movable
    transition: $primary-transition

// Element
.v-feature-discovery__backdrop
  border-radius: 100%
  height: 100%
  width: 100%
  opacity: 0.96
  transform: scale(0)
  transition: $primary-transition
  display: flex
  justify-content: center
  align-items: center
  +elevation(4)

.v-feature-discovery__highlight
  border-radius: 100%
  position: absolute
  top: calc(50% - (140px / 2))
  left: calc(50% - (140px / 2))
  background: white
  height: 140px
  width: 140px
  display: flex
  justify-content: center
  align-items: center
  transform: scale(0)
  transition: $primary-transition

.v-feature-discovery__highlight:not(.v-feature-discovery__highlight--no-ripple)
  &:before
    background-color: inherit
    content: ''
    border-radius: inherit
    position: absolute
    height: calc(100% + 180px)
    width: calc(100% + 180px)
    transition: $primary-transition
    animation: pulse-animation 1.4s cubic-bezier(0.24, 0, 0.38, 1) infinite
    pointer-events: none

.v-feature-discovery__content
  width: 60%
  height: 60%
  display: flex
  flex-direction: column
  justify-content: space-around
  align-items: center

// Modifier
.v-feature-discovery--active
  .v-feature-discovery__backdrop
    transform: scale(1)

  .v-feature-discovery__highlight
    transform: scale(1)

.v-feature-discovery--active
  .v-feature-discovery__highlight:not(.v-feature-discovery__highlight--no-ripple)
    animation: highlight-pulse-animation 1.4s cubic-bezier(0.24, 0, 0.38, 1) infinite

.v-feature-discovery--flat .v-feature-discovery__backdrop
  +elevation(0)

@keyframes highlight-pulse-animation
  from
    transform: scale(1)

  75%
    transform: scale(1.05)

  to
    transform: scale(1)

@keyframes pulse-animation
  from
    opacity: 1
    transform: scale(.2)

  to
    opacity: 0
    transform: scale(1)
